{"version":3,"sources":["components/Numbers.js","components/AddPerson.js","components/Filter.js","components/Notification.js","components/ErrorNotification.js","components/PersonService.js","App.js","index.js"],"names":["PersonLine","person","removePerson","name","number","type","onClick","id","Numbers","filter","persons","personsToShow","toLowerCase","includes","map","key","AddPerson","addPerson","newName","onChangeName","newNumber","onChangeNumber","onSubmit","value","onChange","Filter","onFilterChanged","Notification","message","setMessage","setTimeout","className","ErrorNotification","baseUrl","axios","get","then","response","data","newObject","post","put","delete","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","useEffect","setPersonData","personService","event","target","preventDefault","foundIdx","p","indexOf","newPerson","returnedPerson","concat","catch","error","console","log","window","confirm","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d0e025c5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonLine = ({person, removePerson}) => {\r\n    return(\r\n      <div>\r\n        {person.name} {person.number} \r\n        <button type=\"button\" onClick={() => removePerson(person.id)}>\r\n          delete</button>\r\n      </div>\r\n    )\r\n  }\r\n\r\nconst Numbers = ({filter, persons, removePerson}) => {\r\n\r\n    const personsToShow = filter === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase())  )\r\n\r\n    return (\r\n    <div>\r\n        {personsToShow.map(person => \r\n        <PersonLine key={person.id} person={person} removePerson={removePerson} />\r\n        )}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst AddPerson = ({addPerson, newName, onChangeName, newNumber, onChangeNumber}) => {\r\n \r\n    return (\r\n      <>\r\n      <form onSubmit={addPerson}>\r\n        <div>\r\n          name: \r\n          <input \r\n            value={newName} \r\n            onChange={onChangeName}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input \r\n            value={newNumber} \r\n            onChange={onChangeNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n      </form>\r\n      </>\r\n    )\r\n  }\r\n  \r\n\r\nexport default AddPerson","import React from 'react'\r\n\r\nconst Filter = ({filter, onFilterChanged}) => {\r\n  \r\n    return (\r\n      <div>\r\n          filter show with: \r\n          <input \r\n            value={filter} \r\n            onChange={onFilterChanged}\r\n          />\r\n        </div>\r\n    )\r\n  }\r\n\r\n  \r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification = ({message, setMessage}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  \r\n    return (\r\n      <div className=\"message\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst ErrorNotification = ({message, setMessage}) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    setTimeout(() => {\r\n      setMessage(null)\r\n    }, 5000)\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n  }\r\n\r\nexport default ErrorNotification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {  getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport Numbers from './components/Numbers'\r\nimport AddPerson from './components/AddPerson'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport ErrorNotification from './components/ErrorNotification'\r\nimport personService from './components/PersonService'\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]) \r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [filter, setFilter] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleRemovePerson = (id) => {\r\n\r\n    const name = persons.filter(person => person.id === id).map(person => person.name)\r\n    if(!window.confirm(`Delete ${name}?`)) { \r\n      return\r\n    }\r\n\r\n    personService.remove(id)\r\n      .then(() => {\r\n        setPersons(persons.filter(person => person.id !== id))\r\n        setMessage(`Deleted ${name}`)\r\n      })\r\n      .catch(error => {\r\n        setErrorMessage(`Information of ${name} was already removed from server`)\r\n        setPersons(persons.filter(person => person.id !== id))\r\n      })\r\n  }\r\n\r\n  const handleAddPerson = (event) => {\r\n    event.preventDefault()\r\n    const names = persons.map(p => p.name)\r\n    const foundIdx = names.indexOf(newName)\r\n\r\n    const newPerson = { \r\n      name: newName, \r\n      number: newNumber \r\n    }\r\n\r\n    if(foundIdx < 0)\r\n    {\r\n      personService.create(newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.concat(returnedPerson))\r\n          setNewName('')\r\n          setNewNumber('')\r\n          setMessage(`Added ${returnedPerson.name}`)\r\n        })\r\n        .catch(error => {\r\n          console.log(error.response.data.error)\r\n          setErrorMessage(error.response.data.error)\r\n        })\r\n\r\n    } else if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`))\r\n    {\r\n      const id = persons[foundIdx].id\r\n      personService.update(id, newPerson)\r\n        .then(returnedPerson => {\r\n          setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\r\n          setMessage(`Updated ${returnedPerson.name}`)\r\n        })\r\n        .catch(error => {\r\n          console.log(error)\r\n          setErrorMessage(`Information of ${newName} was already removed from server`)\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  const getHook = (setPersonData) => {\r\n    personService.getAll()\r\n      .then(persons => {\r\n        setPersonData(persons)\r\n      })\r\n  }\r\n\r\n  useEffect(() => {getHook(setPersons)}, [])\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} setMessage={setMessage} />\r\n      <ErrorNotification message={errorMessage} setMessage={setErrorMessage} />\r\n      <Filter filter={filter} onFilterChanged={handleFilterChange}/>\r\n      <h2>add a new</h2>\r\n      <AddPerson addPerson={handleAddPerson} \r\n        newName={newName} onChangeName={handleNameChange}\r\n        newNumber={newNumber} onChangeNumber={handleNumberChange} />\r\n      <h3>Numbers</h3>\r\n      <Numbers filter={filter} persons={persons} removePerson={handleRemovePerson}/>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}